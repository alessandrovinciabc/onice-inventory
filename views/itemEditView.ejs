<%- include('partials/top'); %>

<h1 class="Main__Header Header">OnIce Inventory</h1>

<form method="POST">
  <label for="name"> Name </label><br />
  <input
    required
    minlength="1"
    maxlength="150"
    type="text"
    name="name"
    value="<%= item.name %>"
    id="name"
  /><br />
  <label for="desc"> Description </label><br />
  <textarea maxlength="2000" name="desc" id="desc">
<%= item.desc || '' %></textarea
  ><br />
  <label for="stock"> Stock </label><br />
  <input
    min="0"
    id="stock"
    type="number"
    name="stock"
    value="<%= item.stock %>"
  /><br />
  <label for="price"> Price(<%= currency %>): </label><br />
  <input
    min="0"
    type="number"
    name="price"
    step="0.01"
    value="<%= item.price %>"
  /><br />
  <label for="category">Category</label><br/>
  <select id="category" name="category" required>
    <% categories.forEach((category) => { %>
    
    <option 
      <%- category._id.toString() === item.category.toString() ? 'selected' : '' %>
      value="<%- category._id %>"
    >
    <%= category.name %>
    </option>

    <% }) %>
  </select>
  <br />

  <button>Confirm Edit</button>
</form>

<p>
  <a href="<%- item.url %>">Cancel</a>
  <br /><br />
  <a href="/catalog/category/<%- item.category %>">&lt;Go back to category</a>
  <br />
  <a href="/catalog">&lt;Go back to catalog</a>
</p>

<%- include('partials/bottom'); %>
